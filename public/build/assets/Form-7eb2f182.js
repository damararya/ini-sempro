import{W as b,R as w,j as t,a as e,y as k}from"./app-35ca1426.js";import{I as l,a as n}from"./InputError-3d4f7131.js";import{P as _}from"./PrimaryButton-c7d9b404.js";import{S as I}from"./SecondaryButton-0a9380ac.js";function D({users:h,fixedAmount:m=12e4,initialValues:r={},submitLabel:x="Simpan",onSubmitRoute:u,method:f="post"}){const i=typeof m=="number"?m:12e4,{data:d,setData:s,post:g,put:y,processing:v,errors:o}=b({user_id:r.user_id??"",type:r.type??"sampah",amount:r.amount??i,paid:r.paid??!1,paid_at:r.paid_at??""});w.useEffect(()=>{s("amount",i)},[i,s]);const N=a=>{a.preventDefault(),f==="put"?y(u):g(u)},p=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a||0),c="w-full rounded-xl border border-white/15 bg-white/10 px-4 py-3 text-sm text-white/80 shadow-inner shadow-black/20 focus:border-sky-400/70 focus:outline-none focus:ring-2 focus:ring-sky-300/40 focus:ring-offset-2 focus:ring-offset-[#040112]";return t("form",{onSubmit:N,className:"space-y-6",children:[t("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[t("div",{className:"space-y-2",children:[e(l,{htmlFor:"user_id",value:"Pengguna (opsional)"}),t("select",{id:"user_id",className:c,value:d.user_id,onChange:a=>s("user_id",a.target.value||""),children:[e("option",{value:"",className:"text-slate-900",children:"Tidak memilih"}),h.map(a=>t("option",{value:a.id,className:"text-slate-900",children:[a.name," (",a.email,")"]},a.id))]}),e(n,{message:o.user_id,className:"text-xs text-rose-300"})]}),t("div",{className:"space-y-2",children:[e(l,{htmlFor:"type",value:"Jenis Iuran"}),t("select",{id:"type",className:c,value:d.type,onChange:a=>s("type",a.target.value),children:[e("option",{value:"sampah",className:"text-slate-900",children:"Sampah"}),e("option",{value:"ronda",className:"text-slate-900",children:"Ronda"})]}),e(n,{message:o.type,className:"text-xs text-rose-300"})]}),t("div",{className:"space-y-2",children:[e(l,{htmlFor:"amount",value:"Nominal (tetap)"}),e("input",{id:"amount",className:"w-full rounded-xl border border-white/15 bg-white/10 px-4 py-3 text-sm text-white/85 shadow-inner shadow-black/20",type:"text",value:p(i),readOnly:!0,disabled:!0}),t("p",{className:"text-xs text-white/50",children:["Nominal iuran dikunci pada ",p(i),"."]}),e(n,{message:o.amount,className:"text-xs text-rose-300"})]}),t("div",{className:"space-y-2",children:[e(l,{htmlFor:"paid",value:"Status"}),t("select",{id:"paid",className:c,value:d.paid?"1":"0",onChange:a=>s("paid",a.target.value==="1"),children:[e("option",{value:"0",className:"text-slate-900",children:"Belum Bayar"}),e("option",{value:"1",className:"text-slate-900",children:"Sudah Bayar"})]}),e(n,{message:o.paid,className:"text-xs text-rose-300"})]}),t("div",{className:"sm:col-span-2 space-y-2",children:[e(l,{htmlFor:"paid_at",value:"Tanggal Bayar"}),e("input",{id:"paid_at",className:"w-full rounded-xl border border-white/15 bg-white/10 px-4 py-3 text-sm text-white/80 shadow-inner shadow-black/20 focus:border-sky-400/70 focus:outline-none focus:ring-2 focus:ring-sky-300/40 focus:ring-offset-2 focus:ring-offset-[#040112]",type:"datetime-local",value:d.paid_at??"",onChange:a=>s("paid_at",a.target.value)}),e("p",{className:"text-xs text-white/50",children:"Kosongkan untuk otomatis diisi sekarang ketika status Sudah Bayar."}),e(n,{message:o.paid_at,className:"text-xs text-rose-300"})]})]}),t("div",{className:"flex flex-wrap items-center gap-3",children:[e(_,{type:"submit",disabled:v,children:x}),e(I,{type:"button",onClick:()=>k.visit(route("admin.iurans.index")),children:"Batal"})]})]})}export{D as default};
